<div
    class="PokemonList_MainContainer"
    *ngrxLet="{ pokemonList: pokemonList$, pokemonSelected: pokemonSelected$, pokemonQuery: pokemonQuery$ } as vm">

    <mat-card>
      <mat-card-content>
        <div class="PokemonList_FilterContainer">
          <mat-form-field class="example-form-field">
            <mat-label>Search by name/id</mat-label>
            <input matInput type="text" [(ngModel)]="filterByText">
              <button matSuffix mat-icon-button aria-label="Clear" *ngIf="vm.pokemonQuery.filters.byText" (click)="clearFilter()">
                <mat-icon>close</mat-icon>
              </button>
          </mat-form-field>
          <button mat-mini-fab color="warn" aria-label="Search pokemon by name/id"  [disabled]="!filterByText" (click)="searchPokemon()">
            <mat-icon>filter_list</mat-icon>
          </button>
        </div>
        <div class="PokemonList_TableContainer">
          <mat-table #table [dataSource]="vm.pokemonList" class="mat-elevation-z8" 
          appIntersectionObserver 
          (isIntersecting)="isIntersecting()"
          [offset]="50">
          [active]="true"
      
            <ng-container *ngFor="let disCol of displayedColumns; let colIndex = index" matColumnDef="{{disCol}}">
                <mat-header-cell *matHeaderCellDef>{{disCol}}</mat-header-cell>
                <mat-cell *matCellDef="let element "> {{element[disCol]}}
                </mat-cell>
            </ng-container>
      
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
        <mat-paginator [length]="vm.pokemonQuery.totalSize"
                    [pageSize]="vm.pokemonQuery.pageSize"
                    (page)="getNextPage()"
                    aria-label="Select page">
        </mat-paginator>
        </div>
      </mat-card-content>
    </mat-card>

</div>